---
import Layout from '../../layouts/Layout.astro';
import Breadcrumb from '../../components/Breadcrumb.astro';
import ProductCard from '../../components/ProductCard.astro';
import { getCollection } from 'astro:content';
import { url } from '../../utils/base';

const allProducts = await getCollection('products');
const catProducts = allProducts.filter((p) => p.data.category === 'cats');
---

<Layout
  title="Cat Accessories — PawHaus"
  description="Premium cat accessories in Singapore. Shop water fountains, toys, grooming tools, beds & more for your feline friend. Free shipping over S$50."
>
  <Breadcrumb items={[{ label: 'Cats' }]} />

  <section class="container-max pb-16">
    <!-- Header -->
    <div class="relative rounded-2xl overflow-hidden mb-8">
      <img src={url('/images/category-cats.jpg')} alt="Cat accessories" class="w-full h-48 md:h-64 object-cover" />
      <div class="absolute inset-0 bg-gradient-to-t from-cat-purple/80 to-cat-purple/20 flex flex-col items-center justify-end p-8 text-center">
        <h1 class="font-display text-3xl md:text-4xl font-bold text-white">Cat Accessories</h1>
        <p class="text-white/90 mt-2 max-w-lg mx-auto">
          From interactive toys to cozy beds — everything to keep your feline friend happy, healthy, and entertained.
        </p>
      </div>
    </div>

    <!-- Products -->
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
      {catProducts.map((product) => (
        <ProductCard
          slug={product.data.slug}
          name={product.data.name}
          price={product.data.price}
          comparePrice={product.data.comparePrice}
          image={product.data.image}
          imageAlt={product.data.imageAlt}
          shortDescription={product.data.shortDescription}
          category={product.data.category}
        />
      ))}
    </div>
  </section>
</Layout>
